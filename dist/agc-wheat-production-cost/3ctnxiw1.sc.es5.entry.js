/*! Built with http://stenciljs.com */
AgcWheatProductionCost.loadBundle("3ctnxiw1",["exports","./chunk-d3b984d1.js"],function(t,e){var a=window.AgcWheatProductionCost.h,i=function(){function t(){this.socket="",this.tract="",this.mode="step",this.units={land:"acre",yield:"bu/acre",wheat:"bu"},this.currentStep=0,this.cache={},this.submitted=!1,this.results={}}return t.prototype.render=function(){var t=this;return a("div",null,a("form",{onSubmit:function(t){return t.preventDefault()},ref:function(e){return t.form=e},"data-wizard":"agc-wheat-production-cost","data-wizard-mode":this.mode,class:"agc-wizard"},a("slot",null),a("section",{"data-wizard-section":"0"},a("div",{class:"agc-wizard__field"},a("label",{"data-i18n":"fields.market-price"},"Estimated Market Price"),a("input",{name:"marketPrice",type:"number",required:!0,min:"1",step:".01"}),a("p",{class:"agc-wizard__validation-message","data-i18n":"validation.market-price.required","data-validates":"marketPrice"},"Please enter a price."),a("p",{"data-i18n":"hints.market-price."+this.units.wheat},"â®¤ Enter the expected market price for wheat per bushel.")),a("div",{class:"agc-wizard__actions"},"step"===this.mode&&a("button",{class:"agc-wizard__actions-next","data-i18n":"actions.next",onClick:this.nextPrev.bind(this,1)},"Next ðŸ –"))),a("section",{"data-wizard-section":"1"},a("div",{class:"agc-wizard__field"},a("label",{"data-i18n":"fields.planted-acres"},"Planted Acres"),a("input",{name:"plantedAcres",type:"number",required:!0,min:"1",step:"1"}),a("p",{class:"agc-wizard__validation-message","data-i18n":"validation.planted-acres.required","data-validates":"plantedAcres"},"Please enter a whole number of 1 or more."),a("p",{"data-i18n":"hints.planted-acres."+this.units.land},"â®¤ Enter total number of planted acres.")),a("div",null,"step"===this.mode&&[a("button",{class:"agc-wizard__actions-back","data-i18n":"actions.back",onClick:this.nextPrev.bind(this,-1)},"ðŸ ” Back"),a("button",{class:"agc-wizard__actions-next","data-i18n":"actions.next",onClick:this.nextPrev.bind(this,1)},"Next ðŸ –")])),a("section",{"data-wizard-section":"2"},a("div",{class:"agc-wizard__field"},a("label",{"data-i18n":"fields.expected-yield"},"Expected Yield"),a("input",{name:"expectedYield",type:"number",required:!0,min:"1",step:"1"}),a("p",{class:"agc-wizard__validation-message","data-i18n":"validation.expected-yield.required","data-validates":"expectedYield"},"Please enter a whole number of zero or greater."),a("p",{"data-i18n":"hints.expected-yield."+this.units.yield},"â®¤ Enter the expected yield in bushels per acre.")),a("div",null,"step"===this.mode&&[a("button",{class:"agc-wizard__actions-back","data-i18n":"actions.back",onClick:this.nextPrev.bind(this,-1)},"ðŸ ” Back"),a("button",{class:"agc-wizard__actions-next","data-i18n":"actions.next",onClick:this.nextPrev.bind(this,1)},"Next ðŸ –")])),a("section",{"data-wizard-section":"3"},a("div",{class:"agc-wizard__field"},a("label",{"data-i18n":"fields.variable-costs."+this.units.land},"Variable Costs per Acre"),a("input",{name:"variableCosts",type:"number",required:!0,min:"0",step:".01"}),a("p",{class:"agc-wizard__validation-message","data-i18n":"validation.variable-costs.required","data-validates":"variableCosts"},"Please enter a cost."),a("p",{"data-i18n":"hints.variable-costs."+this.units.land},"â®¤ Enter the total amount of all variable costs per acre.")),a("div",{class:"agc-wizard__actions"},"step"===this.mode&&a("button",{class:"agc-wizard__actions-back","data-i18n":"actions.back",onClick:this.nextPrev.bind(this,-1)},"ðŸ ” Back"),a("button",{class:"agc-wizard__actions-next","data-i18n":"actions.finish",onClick:this.nextPrev.bind(this,"step"===this.mode?1:4)},"Calculate ðŸ –"))),a("section",{"data-wizard-results":!0},a("slot",{name:"results"}))))},t.prototype.showTab=function(t){"step"===this.mode&&(this.cache.sections[t].style.display="block"),this.socket&&this.agcStepChanged.emit({socket:this.socket,tract:this.tract,step:this.currentStep})},t.prototype.reset=function(){this.currentStep=0,this.submitted=!1,this.showTab(0)},t.prototype.validateForm=function(){var t=!0;return 0!==this.currentStep&&"full"!==this.mode||e.validate(this.form,"marketPrice")||(t=!1),1!==this.currentStep&&"full"!==this.mode||e.validate(this.form,"plantedAcres")||(t=!1),2!==this.currentStep&&"full"!==this.mode||e.validate(this.form,"expectedYield")||(t=!1),3!==this.currentStep&&"full"!==this.mode||e.validate(this.form,"variableCosts")||(t=!1),t},t.prototype.nextPrev=function(t,e){if(e&&e.preventDefault(),this.form.querySelector(":focus").classList.contains("agc-wizard__actions-next")){if("full"===this.mode){if(!this.validateForm())return!1}else if(1==t&&!this.validateForm())return!1;if("step"===this.mode&&(this.cache.sections[this.currentStep].style.display="none"),this.currentStep=this.currentStep+t,this.currentStep>=this.cache.sections.length)return this.submitted=!0,this.showResults.call(this),!1;this.showTab.call(this,this.currentStep)}},t.prototype.showResults=function(){var t=parseFloat(this.form.querySelector('[name="marketPrice"').value),a=parseInt(this.form.querySelector('[name="expectedYield"').value),i=parseInt(this.form.querySelector('[name="plantedAcres"').value),s=parseFloat(this.form.querySelector('[name="variableCosts"').value),n=e.round(a*t,2),r=e.round(s,2),c=e.round(n-r,2),o=e.round(c*i,2),d=e.round(r*i,2),l={socket:this.socket,tract:this.tract,units:this.units,marketPrice:t,expectedYield:a,plantedAcres:i,variableCosts:s,totalIncomePerAcre:n,totalExpensesPerAcre:r,totalExpenses:d,netIncomePerAcre:c,netIncomeTotal:o,calculated:new Date};this.socket&&this.agcCalculated.emit({socket:this.socket,tract:this.tract,results:Object.assign({},l)}),this.results=Object.assign({},l),this.cache.results.forEach(function(t){t.style.display="block"})},t.prototype.handleAction=function(t){"reset"===t.detail.action&&this.reset()},t.prototype.componentDidLoad=function(){var t=Array.from(this.form.querySelectorAll("[data-wizard-section]")).map(function(t){return t}).map(function(t){return t}),a=Array.from(this.form.querySelectorAll("[data-wizard-results]")).map(function(t){return t}).map(function(t){return t});this.cache=Object.assign({},this.cache,{sections:t,results:a}),window.document.addEventListener("agcAction",this.handleAction.bind(this)),this.enterKeyHandler=e.mapEnterKey(this.form),window.document.addEventListener("keydown",this.enterKeyHandler,!1),this.showTab(0)},t.prototype.componentDidUnload=function(){window.document.removeEventListener("agcAction",this.handleAction),window.document.removeEventListener("keydown",this.enterKeyHandler)},Object.defineProperty(t,"is",{get:function(){return"agc-wheat-production-cost"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{cache:{state:!0},currentStep:{state:!0},mode:{type:String,attr:"mode"},results:{state:!0},socket:{type:String,attr:"socket"},submitted:{state:!0},tract:{type:String,attr:"tract"},units:{type:"Any",attr:"units"}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"events",{get:function(){return[{name:"agcCalculated",method:"agcCalculated",bubbles:!0,cancelable:!0,composed:!0},{name:"agcStepChanged",method:"agcStepChanged",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),t}();t.AgcWheatProductionCost=i,Object.defineProperty(t,"__esModule",{value:!0})});